(this.webpackJsonpairqualitymonit=this.webpackJsonpairqualitymonit||[]).push([[0],{14:function(t,e,c){},15:function(t,e,c){},25:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),i=c(5),s=c.n(i),r=(c(14),c.p,c(15),c(6)),o=c(2),d=c(7),j=c(8),l=c.n(j),b=c(9),u=c.n(b),h=function(t){var e="";return t>0&&t<51?e="#55a84f":t>=51&&t<101?e="#a3c853":t>=101&&t<201?e="#fff833":t>=201&&t<301?e="#f29c33":t>=301&&t<401?e="#e93f33":t>=401&&t<500&&(e="#af2d24"),e},f=c(0),O=function(t){var e=t.aiqData,c=Object(a.useState)([]),n=Object(o.a)(c,2),i=n[0],s=n[1],r=Object(a.useState)([]),d=Object(o.a)(r,2),j=d[0],l=d[1],b=Object(a.useState)([]),O=Object(o.a)(b,2),x=O[0],y=O[1];Object(a.useEffect)((function(){console.log(e),s(Object.keys(e));var t=[],c=[];for(var a in e)t.push(e[a].aqi.toFixed(2)),c.push(h(e[a].aqi));l(t),y(c)}),[JSON.stringify(e)]);var p=[{data:j}],g={chart:{height:350,type:"bar",events:{click:function(t,e,c){}}},colors:x,plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},yaxis:{show:!0,labels:{style:{colors:"#fff"}}},xaxis:{categories:i,labels:{style:{colors:"#fff",fontSize:"12px"}}}};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(u.a,{options:g,series:p,type:"bar",width:"500"})})},x=new d.w3cwebsocket("wss://city-ws.herokuapp.com/"),y={Goa:{city:"Goa",aqi:238.31,updatedAt:Date.now()}},p=function(){var t=Object(a.useState)(null),e=Object(o.a)(t,2),c=e[0],n=e[1];return Object(a.useEffect)((function(){x.onmessage=function(t){var e,c=JSON.parse(t.data),a=Object(r.a)(c);try{for(a.s();!(e=a.n()).done;){var i=e.value;y[i.city]&&y[i.city].aqi!==i.aqi?(y[i.city].aqi=i.aqi,y[i.city].updatedAt=Date.now()):y[i.city]?y[i.city].aqi=i.aqi:(y[i.city]=i,y[i.city].updatedAt=Date.now())}}catch(s){a.e(s)}finally{a.f()}n(t.data.length)}}),[c]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"City"}),Object(f.jsx)("th",{children:"Current AQI"}),Object(f.jsx)("th",{children:"Last Updated"})]})}),Object(f.jsx)("tbody",{children:Object.keys(y).map((function(t,e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:y[t].city}),Object(f.jsx)("td",{style:{color:"#000",background:h(y[t].aqi.toFixed(2))},children:y[t].aqi.toFixed(2)}),Object(f.jsx)("td",{children:l()(y[t].updatedAt).fromNow()})]},t+e)}))})]}),Object(f.jsx)(O,{aiqData:y})]})})};var g=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("header",{className:"App-header",children:[Object(f.jsx)("h2",{children:" Air Quality Index "}),Object(f.jsx)(p,{})]})})},q=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,26)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),a(t),n(t),i(t),s(t)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),q()}},[[25,1,2]]]);
//# sourceMappingURL=main.db806119.chunk.js.map