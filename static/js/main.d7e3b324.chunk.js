(this.webpackJsonpairqualitymonit=this.webpackJsonpairqualitymonit||[]).push([[0],{13:function(t,e,c){},14:function(t,e,c){},20:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),i=c(4),r=c.n(i),s=(c(13),c.p,c(14),c(5)),d=c(8),j=c(6),o=c(7),l=c.n(o),u=c(0),b=new j.w3cwebsocket("wss://city-ws.herokuapp.com/"),h={Goa:{city:"Goa",aqi:238.31,updatedAt:Date.now()}},f=function(){var t=Object(n.useState)(null),e=Object(d.a)(t,2),c=e[0],a=e[1];Object(n.useEffect)((function(){b.onmessage=function(t){var e,c=JSON.parse(t.data),n=Object(s.a)(c);try{for(n.s();!(e=n.n()).done;){var i=e.value;h[i.city]&&h[i.city].aqi!==i.aqi?(h[i.city].aqi=i.aqi,h[i.city].updatedAt=Date.now()):h[i.city]?h[i.city].aqi=i.aqi:(h[i.city]=i,h[i.city].updatedAt=Date.now())}}catch(r){n.e(r)}finally{n.f()}a(t.data.length)}}),[c]);var i=function(t){var e="";return t>0&&t<51?e="#55a84f":t>=51&&t<101?e="#a3c853":t>=101&&t<201?e="#fff833":t>=201&&t<301?e="#f29c33":t>=301&&t<401?e="#e93f33":t>=401&&t<500&&(e="#af2d24"),e};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"City"}),Object(u.jsx)("th",{children:"Current AQI"}),Object(u.jsx)("th",{children:"Last Updated"})]})}),Object(u.jsx)("tbody",{children:Object.keys(h).map((function(t,e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:h[t].city}),Object(u.jsx)("td",{style:{color:"#000",background:i(h[t].aqi.toFixed(2))},children:h[t].aqi.toFixed(2)}),Object(u.jsx)("td",{children:l()(h[t].updatedAt).fromNow()})]},t+e)}))})]})})})};var O=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)(f,{})})})},x=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),i(t),r(t)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),x()}},[[20,1,2]]]);
//# sourceMappingURL=main.d7e3b324.chunk.js.map